@model InventoryManagement.Domain.Entities.AppUser

@{
    ViewData["Title"] = "My Page";
}

<ul class="nav nav-pills justify-content-end mt-5" id="userTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="owned-tab" data-bs-toggle="tab" data-bs-target="#owned" type="button" role="tab" aria-controls="owned" aria-selected="true">
            Created Inventories
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="accessed-tab" data-bs-toggle="tab" data-bs-target="#accessed" type="button" role="tab" aria-controls="accessed" aria-selected="false">
            Accessible Inventories
        </button>
    </li>
</ul>

<div class="tab-content mt-4" id="userTabsContent">
    <div class="tab-pane fade show active" id="owned" role="tabpanel" aria-labelledby="owned-tab">
        <h3 class="text-center">My Inventories</h3>
        @if (Model.OwnerOfInventories != null && Model.OwnerOfInventories.Any())
        {
            <table class="table table-hover table-bordered mt-3">
                <thead class="table-dark">
                    <tr>
                        <th>Title</th>
                        <th>Category</th>
                        <th>Public</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var inventory in Model.OwnerOfInventories)
                    {
                        <tr>
                            <td>@inventory.Title</td>
                            <td>@inventory.Category</td>
                            <td>@(inventory.IsPublic ? "Yes" : "No")</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p class="text-center mt-3">You don’t own any inventories yet.</p>
        }
    </div>

    <div class="tab-pane fade" id="accessed" role="tabpanel" aria-labelledby="accessed-tab">
        <h3 class="text-center">Inventories Shared With Me</h3>

        @if (Model.InventoryAccesses != null && Model.InventoryAccesses.Any())
        {
            <table class="table table-hover table-bordered mt-3">
                <thead class="table-light">
                    <tr>
                        <th>Title</th>
                        <th>Category</th>
                        <th>Owner</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var access in Model.InventoryAccesses)
                    {
                        <tr>
                            <td>@access.Inventory?.Title</td>
                            <td>@access.Inventory?.Category</td>
                            <td>@access.Inventory?.OwnerId</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p class="text-center mt-3">No inventories have been shared with you yet.</p>
        }
    </div>
</div>
